# ThinkDeep工具 - 扩展推理伙伴

**获得第二意见以增强Claude自身的扩展思考**

`thinkdeep`工具提供扩展推理能力，提供第二视角来增强Claude的分析。它旨在挑战假设、发现边缘情况，并为复杂问题提供替代方法。

## 思考模式

**默认为`high`（16,384 tokens）用于深度分析。** Claude将根据复杂性自动选择最佳模式 - 对于快速验证使用`low`，标准问题使用`medium`，复杂问题使用`high`（默认），或需要最深分析的极其复杂挑战使用`max`。

## 示例提示

```
用pro和max思考模式深入思考我的认证设计，并头脑风暴
为我的项目想出最佳架构
```

## 关键功能

- **使用Gemini的专业思考模型**增强推理能力
- **提供第二意见**关于Claude的分析
- **挑战假设**并识别Claude可能错过的边缘情况
- **提供替代观点**和方法
- **验证架构决策**和设计模式
- **文件参考支持**：`"使用gemini深入思考我的API设计，参考api/routes.py"`
- **图像支持**：分析架构图、流程图、设计模型：`"用gemini pro和max思考模式深入思考这个系统架构图"`
- **增强批判性评估（v2.10.0）**：在Gemini分析后，Claude被提示批判性评估建议，考虑上下文和约束，识别风险，并综合最终建议 - 确保平衡、深思熟虑的解决方案
- **网络搜索能力**：启用时（默认：true），识别当前文档或社区解决方案将加强分析的领域，并为Claude建议具体搜索

## 工具参数

- `prompt`：您要扩展和验证的当前思考/分析（必需）
- `model`：auto|pro|flash|flash-2.0|flashlite|o3|o3-mini|o4-mini|gpt4.1|gpt5|gpt5-mini|gpt5-nano（默认：服务器默认）
- `problem_context`：关于问题或目标的额外上下文
- `focus_areas`：要关注的具体方面（架构、性能、安全等）
- `files`：用于额外上下文的可选文件路径或目录（绝对路径）
- `images`：用于视觉分析的可选图像（绝对路径）
- `temperature`：创造性思考的温度（0-1，默认0.7）
- `thinking_mode`：minimal|low|medium|high|max（默认：high，仅Gemini）
- `use_websearch`：启用文档和见解的网络搜索（默认：true）
- `continuation_id`：继续之前的对话

## 使用示例

**架构设计：**
```
"用pro和max思考模式深入思考我的微服务认证策略"
```

**带文件上下文：**
```
"使用gemini深入思考我的API设计，参考api/routes.py和models/user.py"
```

**视觉分析：**
```
"用gemini pro深入思考这个系统架构图 - 识别潜在瓶颈"
```

**问题解决：**
```
"我正在考虑为我的API使用GraphQL vs REST。用o3和high思考模式深入思考权衡"
```

**代码审查增强：**
```
"用pro深入思考这个认证代码的安全影响"
```

## 最佳实践

- **提供详细上下文**：分享您当前的思考、约束和目标
- **明确关注领域**：提及哪些方面需要更深层分析
- **包含相关文件**：引用代码、文档或配置文件
- **使用适当的思考模式**：复杂问题使用更高模式，快速验证使用较低模式
- **利用视觉上下文**：为架构讨论包含图表或模型
- **建立在讨论基础上**：使用延续来扩展之前的分析

## 增强批判性评估过程

`thinkdeep`工具包含独特的两阶段过程：

1. **Gemini的分析**：具有专业思考能力的扩展推理
2. **Claude的批判性评估**：Claude审查Gemini的建议，考虑：
   - 您特定情况的上下文和约束
   - 潜在风险和实施挑战
   - 权衡和替代方案
   - 最终综合建议

这确保您同时获得深度推理和实用的、上下文感知的建议。

## 何时使用ThinkDeep与其他工具

- **使用`thinkdeep`**：扩展具体分析、挑战假设、架构决策
- **使用`chat`**：开放式头脑风暴和一般讨论
- **使用`analyze`**：理解现有代码而不扩展分析
- **使用`codereview`**：查找具体错误和安全问题
